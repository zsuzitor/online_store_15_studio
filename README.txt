!!!!!!!!!!!!!!!!!!!!!!!
event.stopPropagation() применил в main_present для окна подарка








!!!!!!!!!!!!!!!!!!!!!!!








ПЕРЕПИСАНО ПОД 15 СТУДИЮ

как пример https://www.wildberries.ru/

//
Admin_mail@mail.ru      Z!1qwer1!Z
//
Admin@mail.ru 1Admin1 qwer1!Z
//
Admin1@mail.ru 1Admin1 qwer1!Z
Admin2@mail.ru 1Admin1 qwer1!Z
Admin3@mail.ru 1Admin1 qwer1!Z
Admin4@mail.ru 1Admin1 qwer1!Z

//
при загрузке картинок разрешить загрузку ТОЛЬКО картинок  accept="image/*,image/jpeg,image/png"

[ChildActionOnly]
плавное появление блока css через display
https://webformyself.com/animaciya-ot-display-block-do-display-none/
роли потестить на пустом проекте https://metanit.com/sharp/mvc5/12.4.php
 overflow-y: auto;
много жз потраить

@Scripts.Render("~/scripts/main_scripts.js")





new AjaxOptions { 
UpdateTargetId = "List_objects_type_all_object_block_id",
                    InsertionMode = InsertionMode.InsertAfter,
                    OnBegin = "List_objects_type_OBJECT.OnBegin_load_objects_LOT",
                    OnComplete = "List_objects_type_OBJECT.OnComplete_load_objects_LOT",


           LoadingElementId = "Main_preloader_id",
           LoadingElementDuration = 200
       }



//!ТЕНИ
 box-shadow: 0 0 10px rgba(0,0,0,0.5);




про отправку форм тут чек :
https://javascript.ru/blog/gordon-freeman/ajax-otpravka-formy-otpravka-formy-cherez-ajax-otpravka-formy-bez-perezagruzki-s
https://stackoverflow.com/questions/13611614/submit-the-form-using-ajax

картинки через multiple загружать?


//!!!!!!!!!!!!!!!!выключил для удобства
смена картинок в слайдерах
Admin_page_link убрать строчку
accountcontroller  register закоментил
admincontroller  [role] закоментил
global.asax.cs  закоментил
//

идеи:

стрелки в личной странице не менять при клике а разворачивать css


TODO:
!!!!!!!! СЕЙЧАС можно добавить 0 объектов в корзину а считает это как 2
Purchase_connect добавить количество объектов
проверить Buy_basket ^^^  var tmp = new Purchase_connect() { Purchase_id = prc.Id, Object_id = i.Id, Price = ((int)(i.Price * (1 - i.Discount))) };
когда логинешься неправильно выкидывает исключение Main_help_block Home
проверить формы(помощь и подарок)
добавить крестик на всплавающие окна(помощь и подарок)
main_present.js названия и тд
main_help.js названия и тд
помощь справа сделать как и подарки(не выезжающим)
Work_with_application_phone выбирать звонок по параметрам(время удобное время и тдтд) и доделать 
Application_phone_list admin
при прокрутке страницы с объектами сделать блок отображения текущей страницы и возможность перехода к конкретной странице
{
//при добавлении и редактировании объекта реализовать Show_flag

}
//редактирование объекта через ajax на 1 странице переписать
+-(просто обрезал)при ширине 960 кнопки в main_header за блоки вылезают //+ слово "выполнить вход" поменять на "вход"
добавление не количества объекта и редактирование


изменение комментов без обновления страницы + мб сделать в отдельный парциал отображение комментов(мб в 2 для персонал и обжект) 
{
проверить работу флага 
проверить отображаются ли в списке объекты(количество объектов 0)
}
 
+проверить functions pr search  реализовать Show_available_object
+проверить для пользователя поле показывать ли пустые предметы
{'
красивое появление мб js (выезжание немного влево(из под блока main) потом меняем zindex потом наезжает на main и параллельно увеличивается ширина
Menu_search -- отображение сейчас, сделать еще и принятие формы
редактирование поиска
сейчас не показываются товары которых нет в наличии сделать это настройкой
выбор цены и тд
}

добавить страниц с объектами разных типов и сами типы реализовать
если при старте с нескольких вкладок открыть то исключение
при удалении из корзины(если объектов УЖЕ хватает то менять и слова о том что их все езе не хватает (сверху) и цену (снизу)

страницу с редактированием объекта разбить на части

{
обрабатывать осталенные заявки на уведомление о поступлении товара db.Object_notification
при добавлении объекта(не нового) уведомлять всех о том что он появился
при уведомлении о товаре кидать на обе почты
и не только на почту но и на сайте как то
}


{
HZ  в списке товаров сделать выбор отображения по страницам или дозагрузкой
//при прокрутке вниз меняется url тип следующая страница
  при прокрутке вверх ничего не меняется
   если пролистать вниз и скинуть ссыльку то будут загружены все объекты до этой страницы

}

индекс пустая страница ошибка js

List_objects_type располагать по центру, и вообще по центру все располагать если есть место пустое
добавить тени и др по списку css пробежать

//ВНИЗ НЕ УБИРАТЬ иногда при старте проекта ошибка ---functions_project--->lst = db.Objects.OrderBy(x1 => x1.Id).Where(x1=>x1.Show_flag).Skip(count_skip).Take(count_return).ToList();
корзина если добавить объектов больше чем есть проверить как будет работать покупка и выделение блока
добавить возможность удалять права администратора
админ может добавить юзеру купон(не тип а именно 1 купон)

+проверить метод создания новых купонов админ
просмотр всех типов купонов и удаление админ(Discount_all_coupon)


при удалении нескольких объектов их корзины поле объекта обнулсяется даже если не все объекты удалены
?в корзину можно добавить объектов бесконечно много даже есть  остался 1+ тыкая много раз на добавить с числом меньше
для частичного представления со строкой сделать параметры для отображения текста(размер мб шрифт)



как то определять по id парамтеры для добавления в корзину+ это сделать по группам(типу)
Connect_basket как то сделать еще параметры ^^^


обрабатывать роли (по важности слева на право сейчас)admin  moderator employee user

проверить в home HttpContext.GetOwinContext().GetUserManager<ApplicationUserManager>().GetRoles(check_id) нормально ли работает












+Проверить при создании пользователя давать роль user
???при создании бд инициализировать Discount и добавлять (seed)


Coupons_page TODO визуализировать отображение купонов
Coupons_activated проверять можно ли такой купон активировать(нельзя если :уже активировал был, не выполнены некоторые условия и тд)

+проверить сделать страницу для получения купона по названию


Basket_page передается не вся инфа о купонах сделать еще класс

 работа с заявками  Application_phone_list

купоны могут быть просроченными
применение купонов
валидация на эту форму (подарки) и слелать красивой


доделать купоны



?форму помощи потестить м мб красивее сделать появление круга


валидация на отправку запроса на созвон
Editorы поменять на человеческие(инт стринг дата)
добавить страницу просто с сообщением и те что уже есть засунуть туда
формы через button(отправка)







{
personal_record отображение покупок сделать другим? не строчкой мб
Purchase_short    hz нужно ли и если оставлять то переписать под него + Load_purchase_list
}


корзина длинные слова чет делать



при удалении объекта чекнуть ,сейчас будет куча ошибок скорее всего

css поделить по файлам???
посмотреть как ведет себя слайдер при малом количестве картинок

+проверить index без объектов и фоток в js ошибка слайдер_1 пытается все равно рисоваться
index добавить контента
index с объектами несколько списков и слайдеров
index добавить вертикальный слайдер
index сделать падающие блоки тип при появлении их на экране дергаются мб крутятся
Index+ слайдеры +js

роуты







валидация всего

//!!!!!!!!!!!!!Next_slider_1_click()js в index нет????????
//добавить объект с норм слайдером и вообще посмотреть че как
{
//object_view слева от главной картинки сделать слайдер для всех фотографий
//-----------ограничить количество картинок для объекта до 10?
мб слайдеры те что есть переписать под хорошие
мб добавить выделение текущего слайда
в object_view если слайдер пролистать но на фотку не нажать то мутится чет не то(отображает след по списку и слайдер 1 раз веред листает вроде)
function inviz() { мб переписать
function inviz() { засунуть в объект страницы
}





list_objects_type , object_view и везде где отображается  и в списках посомтреть как отображаются объекты с длинными названиями проверить все(очень плохо(максимально))
в списках красивое отображение(оценки сердце корзина, оценки)(расположение + )



!!
размеры вещей и все такое



добавить возможность делать вещь скрытой
показывать только public вещи(скрытые только для админа)




админ может добавлять\удалять фолов корзину юзеров, (методы+) -представления
страница работы с юзером (админ)


мб объеденить все таки представление отображения комментов с personal_record и object_view






Object_view,List_objects много всего отправлялось в модели чекнуть и почистить мб


добавить возможность закрыть учетку или отдельные ее части
разобраться с ролями
-такое main header там везде контроллер home в списке
-такое Delete_Comment проверять свой ли коммент и мб сделать еще метод для админа в контроллере
Delete_Comment при неудачи удаления не возвращать коммент а просто строчку мб

Add_new_image в admincontroller сейчас только для админов но для юзеров тоже должен быть(тут мб добавить еще 1 метод мб с тем же названием ток в home)

повтыкать куда надо return RedirectToAction("Not_found_page", "Home", new { });
            



TODO Object_view определять админ ли зашел и передавать флаг для управления

index сделать
мб коммент когда добавляет юзер сделать ajax замену но это если без прикрепления картинок
пробежать по TODO
Purchase_view если удалить объект он просто не будет отображаться(мб сделать что бы была инфа что объект удален)

 


поиск не работает


ПРОВЕРИТЬ+ все списки мб реверсить тип показывать с последних записей(хорошо проверить тк сейчас скорее всего не правильно(вообще все перемешано(особенно так где skip)))=>>>>Load_comment_for_personal_record,Load_comment_for_object_view,,,





//main header маленькие блоки с инфой подумать как сделать
//main header маленькие блоки с инфой открывать через жс и чет делать



покупки комменты и тд сделать в настройках public и private(пользователь решает для своей учетки)
     


TODO у всех объектов сделать количество -1   в Buy_basket

сделать метод доспута к объектам 

поиск
корзина везде где отображается делать с количеством покупок


таблица наличие и размеры и склады количество
в комментах потестить много текста(страница объекта и личная страница)
цвет фона у коммента от оценки зависит????

на своей странице поиск по комментам с текстом(не показыать без текста)



поиск по комментариям только с текстом


при удалении из корзины не обновляется ее цена   ---js?








хзхзхзхзхзхз
расширенный поиск(бить сплитом по пробелам и искать каждое слово отдельно)
при создании объекта числа double через точку или запятую надо задать явно
Search TODO скорее всего так нельзя(расширенный поиск)
страница регистрации растянута
мб на главной топ по оценкам показывать
добавление комментов кнопки загрузки и добавления сделать с расстоянием+ они на всю ширину
картинки через multiple загружать?


-------------------------------------------------------------------------------------
вроде+ мб сделать лучше
//add_object сделать
{
Personal_record_one_comment_block & Object_view_one_comment_text в personal_record & Object_view сейчас прокручиваемые по высоте
оставить так ^ ||  ограничить длину комментов?
}
+-редактирование объекта сделать безопаснее



хорошо бы:
на страницах с дозагрузкой когда листаешь менять url в зивисимости от того на какой "блок" сейчас смотрит поьлзователь(менять как при скролле вверх так и вниз) и обрабатывать эту ссылку при запросе и сразу отображать  нужное колличество предметов и все настройки для страницы(хидден для дальнейшей загрузки(мб вообще это убрать оставить только url))
отправка всех форм(хотя бы не ajax) делать не через сабмит а через баттон
в personal_record id=Personal_record_submit_comments_load_id если через консоль сделть видимым и много раз быстро кликать можно сломать все!!!
Personal_record кнопка редактировать комментарий если слово длинное выходит за границы + разместить кнопку внизу
http://localhost:61987/Account/Login справа блок "другие службы"
object_view редактировать удалить сделать лучше


проверить под конец тк еще буду менять:
прелоадер на все ajax запросы повесить
дозагрузка из js
добавить комментарии(код)!!!!!!!!!!!!!!!!!!!!!!!!
проверить все кнопки весь js
на страницах где переменные есть и функции засунуть их в отдельный объект(класса) для безопасности      
добавить отдельные файлы для скриптов для каждой страницы
роли везде ограничивать


--------





//разобраться с ролями(админ юзер)
//длинные логины мб будут смещать надпись корзина
//добавление нескольких одинаковых товаров через количество
//добавить флаг для объектов тип показывать в поиске\нет и количетсво
//на странице объекта сделать добавление в корзину другой кнопкой справа
//количество как для добавления в корзину так и уделения\покупки
//Count_buy+Remainder в объекте есть реализовать
//показывать на странице предмета если он закончился и мб количество
//"Basket_one_object_partial выделять цветом и тдтд если не хватает 
//стрелки в личной странице сделать изменяемыми
//+вроде List_objects_type странно сортирует объекты(порядок)
//парциал с логином переписать что бы было 4 блока(2 лог\аут и 2 ЛС корзина) что бы ровно сомтрелось и одинаково
//кнопка уведомить если товара нет в наличии  Notification_object
//main_header блоки маленькие для них ссылки передавать коллекцией а не так как сейчас
//в корзине добавить возможность изменить количество Delete_object_from_basket
//у каждого объекта не отображать строчки связанные со скидкой если скидки нет
//проверить Object_add_basket_form
//проверить в корзине при добавлении нескольких объектов число меняется ли+цена + сделать большим
//сделать именно добавление количества и мб уменьшение
//возможность добавлять несколько предметов и отображение этого везде
//Object_add_basket_form???
//комменты на ЛС грузятся по 1 сейчас
//добавить еще роли(модер главный админ и тд)
//delete comments посмотреть как для админа это организовано и для юзера просто строку возвращать удача\нет
//Delete_img_block adminController проверить
//страницу админа вынести ссылкой справа
//страница для администратора
//Main_present_block_show_all_block   повесить событие на интервал что бы при видимости на экране задать размеры по окну пользователя
//main_present проверить как работает форма(никак), написать ее на шарпе и скопировать и обрабатывать запрос этот и js сделать красивым (в объект и тд)
--после подписки майл добавлять еще и в application user
//Проверить показывать кнопку подарка только если нет подписки
//+проверить Main_present_block_save доделать
//справа кнопка "помощь" или чет такое, кликаешь и выезжает блок с инфой + на него таймер поставить что бы сам выезжал после загрузки страницы + чуть время
//Main_help_block ---RedirectToAction   так делать нельзя надо что то вернуть?
//+проверить Delete_object_from_basket и  Delete_object_from_follow  что бы частичное также возвращали
//+проверить с не пустой страницей   +personal_record ошибки js пустая страница+скролл
//кнопка подарка : "зарегистрируйтесь" поменять на "рег\лог"
//Discount разбить на тип и конкретные купоны везде id(поля: осталось купонов(будет -- при создании(выдачи)), выдано купонов)
//Discount_coupon_create проверить можно ли несколько параметров передавать
//добавить подарок так же как помощь
//объявление что можно залогиниться и подписаться на рассылку в блок подарков справа(если не залогинен) в функции test_11() js
//+проверить для блока подарка js переписать названия и тд
//пофиксить высоту у слайдера и + в проекта слайдера
//Main_present_block_show+представление убрать
//вытащить из main header в лаяут блок с апом на верх
//РОЛИ комментить ту настройку
//отображать количество предметов и покупок на странице объекта и в корзине
//при создании указывать количество
//+ПРОВЕРИТЬ поставил 200 таймер(прелоадер) на ajax запросах поставить меньше?
//кнопка купить все, скрыть если нет предметов
//Buy_basket чекнуть кнопки как работают
//отображение в корзине если объект уже купили запрет такой операции
//уменьшать количество после покупки
//obj add basket коммент поменять (1)
//заставить удалить объекты которые отсутствуют
//еще скорость анимации редактировать в классе
//футер расстояние между линками+ добавить к ним линк сам
//доделать еще вертикальный слайдер и залить отдельным проектом git
//красивый слайдер с пропаданием и затуханием колесом
//css div.Index_main_slider_one_view_block надо ширину из js менять
//index слайдер доделать
//если комментов нет вообще то даже без нажатия отображается кратинка вастед(мб это оставить) нужно отображать ее только без дозагрузке(при 1 обращении)
//isVisible переписал, работает подругому , и чуть не правильно(объект больше экрана может определить как вне зоны видимости)
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Prev_slider_1 через раз пролистывает на 1 больше чем надо(оъектов передал 8 в js указал 7)...(мб не работает вообще)
//при дозагрузке очень много отправляется запросов хз почему
//Personal_record_show_basket_button Personal_record_comments_block в personal_record мб поменять мб +css для отдельного класса(сейчас 1 класс для нескольких кнопок)
//дозагрузка из js --- list_object, ovject_view,++?
//Add_mark_for_object добавить +0.5 и приведение к double проверить округление
//отправка форм дозагрузки из js при достижении блока?
//personal_record для покупок сделать по аналогии с корзиной
//элемент загрузки для ajax?
//загружать не весь список(допустим комментов и потом дозагружать)(+Object_view,+List_objects,+Personal_record(комменты 10,!!!!!список покупок),)
//!!!!!!!!!!!!!!!!! OnComplete_load_objects_LOT и OnSuccess_load_objects  в object_view  и в personal_record в 1 функцию засунуть и изменить + в ажаксопциях
//[Authorize] public ActionResult Add_mark_for_object(int id) {должно быть для ананимов
//isVisible вынести в общий файл и его юзать и в pers rec тоже вынести из функции        
//оценки в листе пофиксить 
//personal_record ViewBag.count_comment_from_one_load раскомментить в action
//personal record не работают оценки комментам
//мб убирать кнопку загрузки когда закончилось то что можно дозагрузить
//!!!!!!!!!!!!!!!!!!!!!!!list_objects_type не работает фолов \корзиа и кривая дозагрузка  вместо num клеить id
//в personal_record сделать кнопку показать скрыть для фолов корзины и тдтд
//Personal_record_one_comment_block css когда кнопки удалить\ред починю и поставлю на место убрать overflow-y
//список комментов в personal_record редактировать\удалить кнопк подумать как лучше сделать
//personal_record TODO сюда флаг их hidden что бы не обращался на серв если спиок пуст
//Personal_record_Delete_Comment_button одинаковые кнопки  //сделать красивым + 
//проверить есть ли кнопки удалить и редактировать у комментов не своих + защита в функциях
//оценки для комментов(полезный забавный и тд)
//Work_with_images_object строчки с выбором файла на всю страницу(невидимый кусок)
//в object_view делать смену картинок по времени
//баг с слайдерами если много кликать
//добавление комментов и все остальное по ролям
//кнопка редактирования картинок для объекта
//удаление объектов(с картинками и всем что с вязано с ними) ссылки с покупок уже состоявшихся обезопасить
//под комментов в object_view редакировать\удалить криво
//добавить стрианцу "НЕ нАЙДЕНО"
//main header сделать 2 кнпоки корзина и страница
//вроде, проверить index стрелки(и таймер) для слайдеров убирать если мало объектов
//ссыль на личную страницу в хедер
//на личной странице в каждом комменте ссылку и мб фото на предмет в магазе
//тестить оценки как работают
//потестить слайдер полностью вроде+
//при добавлении объекта проверять его цену и скидку
//слайдер-- хиден блоки и с них доставать
//определять количество мб через трайкеч из жс при загрузки стр
//Main_header передавать структурами
//добавить еще красные звезды для отображения общих оценок
//потестить скролл страницы вверх кнопкой слева
//Buy_basket чет придумать
//Purchase_view
//Edit_personal_record
//для комментария ограничить размеры ввода
// Add_mark_for_object не работает
//в объекте корзины мб не хранить сумму а считать ее, тк цена может поменяться
//поле для коммента ограничить по размеру
//пробежаться и тмп переменные переименовать obg=>obj
 //TODO добавление оценки через звезды в object_view внизу
//обрезать картинки лайк корзина ,сделать на прозрачном фоне
//в комментариях свой показывать выше остальных
//потестить лайки и корзину на старнице объекта
//перегрузить акцессор на оценки до 5
//удаление комментов
//там где загрузка картинок к объекту через жс отрисовывать кнопки закгрзки
//{
//личная страница пользователя
//отображение корзины
 //фолов
//комментов и оценок
//}
//изменение комментов          js









--db
//доп таблица картинок
//доп таблица оценок 
//доп талица комментов
//юзер
//таблица корзины
//таблица покупок
//таблица комментов(2)
    //    лайков


--














